<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANTs Installation Bug &mdash; Brain Imaging and Behavior Lab</title>
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/assets/main.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/logo.png"/>
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Brain Imaging and Behavior Lab" />
    <meta name="title" content="ANTs Installation Bug ">
    <link rel="canonical" href="http://biabl.github.io/2015/12/07/ants-installation-bug/">
     
           
    <meta property="og:title" content="ANTs Installation Bug "/>
    <meta property="og:url" content="http://biabl.github.io/2015/12/07/ants-installation-bug/"/>
    
    
    <meta property="og:description" content="There's a bug with how GCC is installed on the supercomputer, which prevents installation of ANTs. Luckily there's a solution."/>
    <meta name="description" content="There's a bug with how GCC is installed on the supercomputer, which prevents installation of ANTs. Luckily there's a solution."/>
    
    <meta property="og:site_name" content="Brain Imaging and Behavior Lab">     
</head>
<body>
    <section class="site-nav">
        <header>
            <nav id="navigation">
                <a class="brand" href="/"><img alt="Inc" src="/images/logo.png"></a> 
                <a class="home" href="/">Blog</a>
                <a class="home" href="/tags/">Tags</a>
				<li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
                    <ul class="dropdown-menu multi-level">
                        <li class="dropdown-submenu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">General Topics</a>
                            <ul class="dropdown-menu">
                                <li><a href="/tutorials/general/unix-cheat-sheet/">Unix Cheat Sheet</a></li>
                				<li><a href="/tutorials/general/introduction-to-fulton-supercomputer-lab/">Introduction to Fulton Supercomputer</a></li>
                				<li><a href="/tutorials/general/submitting_jobs/">Submitting Batch Jobs on Supercomputer</a></li>
                				<li><a href="/tutorials/general/R/">Learn R</a></li>
                				<li><a href="/tutorials/general/install-freesurfer/">How to Install Freesurfer on Supercomputer</a></li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Structural Imaging Topics</a>
                            <ul class="dropdown-menu">
                                <li><a href="/tutorials/structural/preprocessing_T1_weighted_images/">Preprocessing T1 Weighted Images</a></li>
                				<li><a href="/tutorials/structural/convert-to-nifti/">Other Ways to Convert to NIfTI</a></li>
                				<li><a href="/tutorials/structural/normalization/">Normalization</a></li>
                				<li><a href="/tutorials/structural/cortical_thickness/">Tissue Segmentation and Cortical Thickness</a></li>
                				<li><a href="/tutorials/structural/morphometry/">Various Morphometry Analyses</a></li>
                				<li><a href="/tutorials/structural/ANTsR/">ANTsR</a></li>
                				<li><a href="/tutorials/structural/group_average/">Group Average Overlays with ANTsR</a></li>
                				<li><a href="/tutorials/structural/roi/">ROI Analysis with DKT</a></li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Diffusion Imaging Topics</a>
                            <ul class="dropdown-menu">
                                <li><a href="/tutorials/diffusion/preprocessing_diffusion_weighted_images/">Preprocessing Diffusion Weighted Images</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects<b class="caret"></b></a>
                    <ul class="dropdown-menu multi-level">
                        <li class="dropdown-submenu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">MIOS</a>
                            <ul class="dropdown-menu">
                                <li><a href="/projects/MIOS/corpus-callosum/">Corpus Callosum</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </nav>
        </header>
    </section>
    
<article>

    <div class="container">
        <header>
        	
            <div class="meta">
                By <address><a rel="author" href="" title="Trevor Huff" target="_blank">Trevor Huff</a></address> &mdash;
                <time pubdate datetime="2015-07-December" title="December 07, 2015">December 07, 2015</time>
            </div>
            <h1 class="title">ANTs Installation Bug</h1>
            
        </header>

        <section>
            <p>There’s a bug with how GCC is installed on the supercomputer, which prevents installation of ANTs. Luckily there’s a solution.</p>

<p>Make sure you start with a completely fresh install. Remove the <code>ANTs</code> and <code>antsbin</code> directories:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> ~/apps/
rm -rf ANTs
rm -rf antsbin</code></pre></div>

<p>Follow the directions provided by ANTs:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> ~/apps/
git clone git://github.com/stnava/ANTs.git
mkdir ants-20151207
<span class="nb">cd </span>ants-20151207
ccmake ../ANTs</code></pre></div>

<p>In CMAKE, type “c” to load the configuration information and then type “t” to toggle to advanced mode. You want to edit the option, “CMAKE_EXE_LINKER_FLAGS” which by default is blank, but needs to be <code>-fuse-ld=bfd</code> instead. Press “ENTER” to edit the option.</p>

<p><img src="images/2015-12-07-ants-installation-bug/screenshot-image1.png" alt="" /></p>

<p>Type “c” and then “g” and then exit back to the terminal by typing “q”.</p>

<p>Compile your code:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">make -j 4</code></pre></div>

<p>and wait awhile.</p>

<p>Once ANTs is installed, remember to copy the scripts to your ANTs bin directory and set your environmental variables:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">cp -v ~/apps/ANTs/Scripts/* ~/apps/ants-20151207/bin/
<span class="nb">echo</span> <span class="s2">&quot;export ANTSPATH=/fslhome/&lt;USERNAME&gt;/antsbin-20151207/bin/&quot;</span> &gt;&gt; ~/.bash_profile
<span class="nb">echo</span> <span class="s2">&quot;export PATH=${ANTSPATH}:${PATH}&quot;</span> &gt;&gt; ~/.bash_profile</code></pre></div>

            
        </section>

        <footer>
            <address>
               
                <p>Written by <strong><a rel="author" href="https://github.com/" title="" target="_blank">Trevor Huff</a></strong><br>
                <span class="muted">Contributor</span>
                </p>
            </address>

        </footer>

        
        <section>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'biabl'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
        </section>
        
    </div>
</article>

    <footer class="site-footer">
        <div class="container">
            &copy; 2015
            <nav>
                <a href="http://biabl.github.io">Brain Imaging and Behavior Lab</a>
            </nav>
            <nav class="social">
                 
                 
                <a href="/feed.xml" title="RSS Feed"><i class="icon icon-rss black"></i></a>
            </nav>
        </div>
    </footer>
    
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js" defer></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" defer></script>
  <script src="dist/js/bootstrap-submenu.min.js" defer></script>
  <style type="text/css">
<script src="/assets/main.js"></script>







</body>
</html>